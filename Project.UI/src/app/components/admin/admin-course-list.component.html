<form *ngIf="courses" class="bulkActions" display="block">
    
    <select display="block">
        <option value="remove" selected >Ukloni</option>   
    </select>
    <button (click)="DeleteCheckedCourses()" style="margin-left:5px">Primijeni</button>
</form>
<table *ngIf="courses">
    <tr>
        <th width="2%" style="font-size:12px"><input type="checkbox" #All (click)="selectAll(All.checked)" name="select" title="Odaberi sve" >
            <label for="select">Odaberi sve</label>
        </th>
        <th>Naziv kolegija</th>
        <th>Šifra kolegija</th>      
        <th>Semestar izvođenja</th>  
        <th>Razina studija</th>                                
        <th>Popis profesora</th>  
        <th>Popis demonstratora</th>               
        <th>Opcije</th>
        
    </tr>
    <ng-container *ngFor="let course of courses;  let i = index" [attr.data-index]="i">
        <tr>
            <td><input type="checkbox" name="select" title="Odaberi" #One [checked]="checkedCourses[i]" (change)="select(One.checked,i)">
                <label for="select"></label>
            </td>
            <td>{{course?.courseName}}</td>
            <td>{{course?.courseCode}}</td> 
            <td>{{course?.semester}}.</td>  
            <td>{{course?.studyLevel}}.</td>               
            <td style="text-align:left;">
                <div *ngIf="course?.professorsNames"><p  style="display:inline"><span>{{course?.professorsNames[0]}}</span><span *ngIf="course?.professorsNames.length>1" href="" style="float:right" (click)="collapse(i)">&#9660;</span></p><br>
                <div  [hidden]="hiddenCourses[i]" class="hiddenCourses">
                    <div *ngIf="course?.professorsNames.length>1"><hr><p style="display:inline"><span>{{course?.professorsNames[1]}}</span></p><br><br></div>
                    <div *ngIf="course?.professorsNames.length>2"><hr><p style="display:inline"><span>{{course?.professorsNames[2]}} </span> </p><br><br> </div>
                    <div *ngIf="course?.professorsNames.length>3"><hr><p style="display:inline"><span>{{course?.professorsNames[3]}}</span> </p><br><br> </div>
                    <div *ngIf="course?.professorsNames.length>4"><hr><p style="display:inline"><span>{{course?.professorsNames[4]}} </span> </p><br><br> </div>
                </div>
            </div>
            </td>   
            <td style="text-align:left;">
                <div *ngIf="course?.studentsNames">
                    <div *ngIf="course?.studentsNames.length>0"><p *ngIf="course?.studentsNames.length>0" style="display:inline"><span>{{course?.studentsNames[0]}}</span></p><br></div>
                    <div *ngIf="course?.studentsNames.length>1"><hr><p style="display:inline"><span>{{course?.studentsNames[1]}}</span></p><br><br></div>
                    <div *ngIf="course?.studentsNames.length>2"><hr><p style="display:inline"><span>{{course?.studentsNames[2]}}</span></p><br><br></div>                        
                </div>
            </td>    
            <td>
                <button class="btn accept" style="margin-bottom:5px">Izmijeni</button>
                <button (click) = "DeleteCourse(course)" class="btn decline">Ukloni</button>
            </td>
        </tr>
    </ng-container>
</table>


<button class="btn prof-add">Dodaj novi kolegij</button>

<div style="margin-left:30%" >
<h2 style="margin:2%">Dodaj novi kolegij</h2>
<form name="createCourseForm" #f="ngForm" (ngSubmit)="f.form.valid && createCourse(f)"  novalidate>
        <div style="margin:2%;" [ngClass]="{ 'has-error': f.submitted && !courseName.valid }">
            <label for="courseName">Naziv kolegija:</label>
            <input style="margin-left:8%" type="text" class="form-control" name="courseName" [(ngModel)]="newCourse.courseName" #courseName="ngModel" required />
            <div *ngIf="f.submitted && !courseName.valid" class="help-block">Naziv kolegija je obavezan.</div>
        </div>
        <div  style="margin:2%;" [ngClass]="{ 'has-error': f.submitted && !courseCode.valid }">
            <label for="courseCode">Šifra kolegija:</label>
            <input style="margin-left:9%" type="text" class="form-control" name="courseCode" [(ngModel)]="newCourse.courseCode" #courseCode="ngModel" required />
            <div *ngIf="f.submitted && !courseCode.valid" class="help-block">Šifra kolegija je obavezna.</div>
        </div>
        <div  style="margin:2%" [ngClass]="{ 'has-error': f.submitted && !semester.valid }">
            <label for="semester">Semestar izvođenja:</label>
            <input style="margin-left:2%" type="text" class="form-control" name="semester" [(ngModel)]="newCourse.semester" #semester="ngModel" required />
            <div *ngIf="f.submitted && !semester.valid" class="help-block">Semestar izvođenja je obavezan.</div>
        </div>
        <div  style="margin:2%" [ngClass]="{ 'has-error': f.submitted && !studyLevel.valid }">
                <label for="studyLevel">Razina studija: </label>
                <input style="margin-left:8%" type="text" class="form-control" name="studyLevel" [(ngModel)]="newCourse.studyLevel" #studyLevel="ngModel" required />
                <div *ngIf="f.submitted && !studyLevel.valid" class="help-block">Razina studija je obavezna.</div>
        </div>
        <div  style="margin:2%" [ngClass]="{ 'has-error': f.submitted && !professors.valid }">
                <label for="professors">Šifre profesora na kolegiju:</label>
                <input style="margin-left:1%" type="text" class="form-control" name="professors" [(ngModel)]="newCourse.professors" #professors="ngModel" required />
                <div *ngIf="f.submitted && !professors.valid" class="help-block">Obavezno je unijeti barem jednog profesora.</div>
            </div>
            
        <div>
            <button  [disabled]="loading" class="btn accept" style="width:25%; ">Dodaj kolegij</button>
            <img *ngIf="loading"  src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
            <button  class="btn decline" style="width:25%;">Odustani</button>
        </div>
    </form>
</div>

